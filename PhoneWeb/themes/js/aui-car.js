$(function(){$(".minus").click(function(){var b=$(this).parent().find(".num");b.text(parseInt(b.text())-1);if(b.text()<=1){b.text(1)}a()});$(".plus").click(function(){var b=$(this).parent().find(".num");b.text(parseInt(b.text())+1);if(b.text()<=1){b.text(1)}a()});$(".goodsCheck").click(function(){var b=$(this).closest(".aui-car-box").find(".goodsCheck");var c=$(this).closest(".aui-car-box").find(".goodsCheck:checked");var d=$(this).closest(".aui-car-box").find(".shopCheck");if(b.length==c.length){d.prop("checked",true);if($(".shopCheck").length==$(".shopCheck:checked").length){$("#AllCheck").prop("checked",true);a()}else{$("#AllCheck").prop("checked",true);a()}}else{d.prop("checked",true);$("#AllCheck").prop("checked",true);a()}});$(".shopCheck").click(function(){if($(this).prop("checked")==true){$(this).parents(".aui-car-box").find(".goods-check").prop("checked",true);if($(".shopCheck").length==$(".shopCheck:checked").length){$("#AllCheck").prop("checked",true);a()}else{$("#AllCheck").prop("checked",true);a()}}else{$(this).parents(".aui-car-box").find(".goods-check").prop("checked",false);$("#AllCheck").prop("checked",false);a()}});$("#AllCheck").click(function(){if($(this).prop("checked")==true){$(".goods-check").prop("checked",true);a()}else{$(".goods-check").prop("checked",false);a()}$(".shopCheck").change()});function a(){var b=0;$(".aui-car-box").each(function(){var d=0;$(this).find(".goodsCheck").each(function(){if($(this).is(":checked")){var e=parseInt($(this).parents(".shop-info").find(".num").text());var f=parseFloat($(this).parents(".shop-info").find(".price").text());var g=f*e;d+=g}$(this).closest(".aui-car-box").find(".ShopTotal").text(d.toFixed(2))});var c=parseFloat($(this).find(".ShopTotal").text());b+=c});$("#AllTotal").text(b.toFixed(2))}});